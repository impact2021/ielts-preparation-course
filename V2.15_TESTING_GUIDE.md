# Version 2.15 Testing Guide

## Overview
This guide provides comprehensive testing procedures for Version 2.15 of the IELTS Course Manager plugin. Version 2.15 includes bug fixes and improvements based on user feedback.

## Pre-Testing Setup

### Requirements
- WordPress 5.8 or higher
- PHP 7.2 or higher
- Test site with the IELTS Course Manager plugin
- At least one course, lesson, and quiz configured
- Test student user account

### Test Environment Preparation
1. Update plugin to version 2.15
2. Verify version number in WordPress admin shows 2.15
3. Create test data if not already present:
   - At least one course
   - At least one lesson linked to the course
   - At least one CBT quiz (computer-based layout) linked to the lesson
   - Questions with feedback configured

---

## Feature Testing

### Feature 1: "Return to Course" Link Location

#### Test 1.1: Link Appears on Fullscreen Page
**Steps:**
1. As a student, navigate to a CBT quiz that is linked to a course and lesson
2. Click "Open in Fullscreen" button
3. Complete the quiz (answer questions)
4. Click "Submit Quiz"
5. Wait for submission to complete

**Expected Results:**
- ✅ "Return to course" link appears below the quiz result area
- ✅ Link is centered on the page
- ✅ Link has standard WordPress button styling
- ✅ Link is visible without scrolling (or with minimal scrolling)

**Screenshots to capture:**
- Quiz completion page showing the "Return to course" link

#### Test 1.2: Link NOT in Modal
**Steps:**
1. Continue from Test 1.1 (quiz completed)
2. Examine the quiz completion modal popup

**Expected Results:**
- ✅ "Return to course" button does NOT appear in the modal
- ✅ Only "Review my answers", "Take Quiz Again", and possibly "Continue" buttons appear in modal
- ✅ Modal close button (×) is visible
- ✅ No layout issues or empty spaces where button used to be

#### Test 1.3: Link Functionality
**Steps:**
1. Continue from Test 1.1 (quiz completed)
2. Click the "Return to course" link

**Expected Results:**
- ✅ Browser navigates to the course page
- ✅ Course page loads correctly
- ✅ URL matches the course permalink

#### Test 1.4: Link Only Appears in Fullscreen Mode
**Steps:**
1. Navigate to a CBT quiz WITHOUT clicking "Open in Fullscreen"
2. Scroll down the page

**Expected Results:**
- ✅ "Return to course" link does NOT appear
- ✅ Only the fullscreen notice button is visible

#### Test 1.5: Link Only Appears When Quiz is Linked to Course
**Steps:**
1. Create a new quiz or edit existing quiz
2. Remove the course association (leave Course ID empty)
3. Save the quiz
4. Take the quiz in fullscreen mode
5. Submit the quiz

**Expected Results:**
- ✅ "Return to course" link does NOT appear
- ✅ No JavaScript errors in console
- ✅ Quiz otherwise functions normally

---

### Feature 2: Feedback for Unanswered Questions

#### Test 2.1: Feedback Displays for Unanswered Questions
**Steps:**
1. Create or edit a quiz
2. Add a question with `incorrect_feedback` configured (e.g., "This answer is important because...")
3. Take the quiz as a student
4. Intentionally leave the question blank (do not answer)
5. Submit the quiz
6. For CBT quiz: Click "Review my answers"
7. For regular quiz: Scroll to feedback section

**Expected Results:**
- ✅ Unanswered question shows as incorrect (expected)
- ✅ Feedback text appears below the question
- ✅ User answer shows as "(No answer provided)"
- ✅ Correct answer is displayed
- ✅ Feedback styling matches other feedback (red border for incorrect)

**Screenshots to capture:**
- Feedback display for unanswered question

#### Test 2.2: Multiple Unanswered Questions
**Steps:**
1. Create a quiz with 5 questions, all with `incorrect_feedback` configured
2. Take the quiz as a student
3. Answer questions 1 and 3 only
4. Leave questions 2, 4, and 5 blank
5. Submit the quiz
6. Review answers

**Expected Results:**
- ✅ Questions 1 and 3 show correct/incorrect based on answer
- ✅ Questions 2, 4, and 5 all show feedback
- ✅ All unanswered questions marked as incorrect
- ✅ Feedback appears for all unanswered questions
- ✅ No JavaScript errors

#### Test 2.3: Question Without Feedback Configured
**Steps:**
1. Create a question WITHOUT `incorrect_feedback` configured
2. Take the quiz
3. Leave the question blank
4. Submit and review

**Expected Results:**
- ✅ Question marked as incorrect
- ✅ No feedback text appears (as expected - none configured)
- ✅ User answer shows as "(No answer provided)"
- ✅ Correct answer is displayed
- ✅ No errors or layout issues

#### Test 2.4: Different Question Types
Test with each question type:
- Multiple Choice
- True/False/Not Given
- Fill in the Blank
- Summary Completion
- Essay

**Steps for each type:**
1. Create a question of the specific type with `incorrect_feedback`
2. Take quiz and leave question blank
3. Submit and review

**Expected Results for each:**
- ✅ Feedback displays correctly
- ✅ Question marked as incorrect
- ✅ Layout appropriate for question type

---

### Feature 3: Paragraph Breaks in Question Text

#### Test 3.1: Double Line Breaks Create Paragraphs
**Steps:**
1. Create or edit a quiz question
2. Enter question text with double line breaks:
   ```
   This is the first paragraph.

   This is the second paragraph.

   This is the third paragraph.
   ```
3. Save the question
4. View the quiz as a student

**Expected Results:**
- ✅ Three distinct paragraphs are visible
- ✅ Visual spacing between paragraphs
- ✅ Text is NOT all on one line
- ✅ Formatting matches standard paragraph spacing

**Screenshots to capture:**
- Question with proper paragraph formatting

#### Test 3.2: Single Line Breaks
**Steps:**
1. Create a question with single line breaks:
   ```
   Line 1
   Line 2
   Line 3
   ```
2. View the quiz

**Expected Results:**
- ✅ Each line appears on its own line (with `<br>` tag)
- ✅ No extra paragraph spacing (less space than double line breaks)
- ✅ Text is readable and properly formatted

#### Test 3.3: Mixed Formatting
**Steps:**
1. Create a question with both paragraph breaks and line breaks:
   ```
   First paragraph with some text.

   Second paragraph line 1
   Second paragraph line 2
   Second paragraph line 3

   Third paragraph.
   ```
2. View the quiz

**Expected Results:**
- ✅ Paragraphs properly separated with spacing
- ✅ Lines within paragraphs appear on separate lines
- ✅ Visual distinction between paragraphs and line breaks
- ✅ Formatting is intuitive and readable

#### Test 3.4: Question Text with HTML
**Steps:**
1. Create a question with some HTML formatting:
   ```
   This is a <strong>bold</strong> word.

   This paragraph has <em>italic</em> text.
   ```
2. View the quiz

**Expected Results:**
- ✅ HTML formatting preserved (bold, italic)
- ✅ Paragraphs still properly separated
- ✅ No broken HTML or layout issues

#### Test 3.5: Works in Both Quiz Types
**Steps:**
1. Create a regular (non-CBT) quiz with paragraph breaks in question text
2. Create a CBT quiz with paragraph breaks in question text
3. View both quizzes

**Expected Results:**
- ✅ Paragraph breaks work in regular quiz template
- ✅ Paragraph breaks work in CBT quiz template
- ✅ Formatting consistent between both templates

---

## Regression Testing

### Regression Test 1: Existing Quizzes Still Work
**Steps:**
1. Take an existing quiz (created before v2.15)
2. Complete and submit the quiz

**Expected Results:**
- ✅ Quiz functions normally
- ✅ Scoring is correct
- ✅ Feedback displays (if configured)
- ✅ No errors or broken functionality

### Regression Test 2: Quiz Creation/Editing
**Steps:**
1. Create a new quiz
2. Add questions of different types
3. Configure feedback
4. Save and test the quiz

**Expected Results:**
- ✅ Quiz editor functions normally
- ✅ All question types work
- ✅ Feedback saves correctly
- ✅ Quiz displays and functions properly

### Regression Test 3: Progress Tracking
**Steps:**
1. Complete a quiz
2. Check progress tracking page
3. Verify quiz result is recorded

**Expected Results:**
- ✅ Quiz completion recorded
- ✅ Score displayed correctly
- ✅ Progress percentage updated

### Regression Test 4: Modal Functions
**Steps:**
1. Complete a CBT quiz
2. Interact with the results modal:
   - Click "Review my answers"
   - Click "Take Quiz Again"
   - Click "Continue" (if available)
   - Click close button (×)

**Expected Results:**
- ✅ "Review my answers" closes modal and shows highlighted answers
- ✅ "Take Quiz Again" reloads the quiz
- ✅ "Continue" navigates to next item
- ✅ Close button closes the modal
- ✅ All buttons function correctly

---

## Integration Testing

### Integration Test 1: Complete User Journey
**Steps:**
1. Log in as a student
2. Navigate to a course
3. Click on a lesson
4. Click on a CBT quiz
5. Click "Open in Fullscreen"
6. Answer some questions, leave others blank
7. Submit the quiz
8. Click "Review my answers"
9. Click "Return to course"
10. Navigate back to progress page

**Expected Results:**
- ✅ Entire flow works smoothly
- ✅ All features work together
- ✅ No errors at any step
- ✅ "Return to course" link works
- ✅ Feedback shows for answered and unanswered questions
- ✅ Paragraph breaks display correctly if present

### Integration Test 2: Multiple Quiz Types
**Steps:**
1. Take a regular quiz (non-CBT)
2. Take a CBT quiz
3. Compare functionality

**Expected Results:**
- ✅ Both quiz types work correctly
- ✅ Paragraph breaks work in both
- ✅ Feedback works in both
- ✅ "Return to course" only appears in CBT fullscreen mode

---

## Browser Compatibility Testing

### Browsers to Test
- Chrome (latest)
- Firefox (latest)
- Safari (latest, if available)
- Edge (latest)

### Test in Each Browser
1. Complete a quiz in fullscreen mode
2. Verify "Return to course" link appears and functions
3. Verify paragraph breaks display correctly
4. Verify feedback displays for unanswered questions
5. Check browser console for errors

**Expected Results for Each Browser:**
- ✅ All features work correctly
- ✅ Layout is consistent
- ✅ No JavaScript errors
- ✅ CSS styling renders properly

---

## Mobile Device Testing

### Devices to Test
- iPhone/iPad (iOS Safari)
- Android phone/tablet (Chrome)

### Mobile-Specific Tests
1. Open quiz in fullscreen on mobile
2. Complete and submit quiz
3. Verify "Return to course" link is tappable
4. Verify paragraph breaks display correctly on small screen
5. Verify modal functions work (touch interactions)

**Expected Results:**
- ✅ All features work on mobile
- ✅ Touch targets are large enough (44x44px minimum)
- ✅ Layout responsive and readable
- ✅ No horizontal scrolling issues

---

## Performance Testing

### Performance Test 1: Page Load Time
**Steps:**
1. Open quiz page with browser developer tools
2. Check Network tab for load time
3. Check Performance tab for rendering time

**Expected Results:**
- ✅ Page loads in reasonable time (< 3 seconds)
- ✅ No significant performance degradation from v2.14
- ✅ JavaScript executes without delays

### Performance Test 2: Quiz with Many Questions
**Steps:**
1. Create a quiz with 50+ questions
2. Take the quiz in fullscreen mode
3. Submit and review answers

**Expected Results:**
- ✅ Quiz loads without lag
- ✅ Submission processes in reasonable time
- ✅ Feedback displays without delay
- ✅ No browser freezing or unresponsiveness

---

## Accessibility Testing

### Accessibility Test 1: Keyboard Navigation
**Steps:**
1. Use Tab key to navigate through quiz
2. Try to reach and activate "Return to course" link
3. Verify all buttons are keyboard accessible

**Expected Results:**
- ✅ All interactive elements are keyboard accessible
- ✅ Tab order is logical
- ✅ Focus indicators are visible
- ✅ "Return to course" link can be activated with Enter key

### Accessibility Test 2: Screen Reader
**Steps:**
1. Enable screen reader (NVDA, JAWS, or VoiceOver)
2. Navigate through quiz
3. Listen to how elements are announced

**Expected Results:**
- ✅ "Return to course" link is announced correctly
- ✅ Feedback messages are announced
- ✅ Question text with paragraphs is read properly
- ✅ No confusing or missing announcements

### Accessibility Test 3: Color Contrast
**Steps:**
1. Use browser accessibility tools to check color contrast
2. Verify text is readable

**Expected Results:**
- ✅ Text meets WCAG AA standards (4.5:1 contrast ratio)
- ✅ "Return to course" link is readable
- ✅ Feedback text has sufficient contrast

---

## Edge Cases and Error Handling

### Edge Case 1: Quiz Not Linked to Course or Lesson
**Test:** Take quiz that has no course or lesson association
**Expected:** Quiz works, but "Return to course" link doesn't appear

### Edge Case 2: Quiz with No Questions
**Test:** View quiz with no questions configured
**Expected:** Appropriate message displayed, no errors

### Edge Case 3: Question Text with Special Characters
**Test:** Question text with: `&, <, >, ", '`
**Expected:** Characters properly escaped, display correctly

### Edge Case 4: Very Long Feedback Text
**Test:** Question with 500+ characters of feedback
**Expected:** Feedback displays completely, layout not broken

### Edge Case 5: Empty Feedback Field
**Test:** Question with empty feedback field (blank string)
**Expected:** No feedback displays, no layout issues

---

## Upgrade Testing

### Upgrade Test 1: Update from v2.14
**Steps:**
1. Start with v2.14 installed
2. Create some test quizzes and complete them
3. Update to v2.15
4. Take existing quizzes again

**Expected Results:**
- ✅ Upgrade completes successfully
- ✅ Existing quizzes work correctly
- ✅ Historical quiz results preserved
- ✅ New features work on old quizzes

### Upgrade Test 2: Database Migration
**Steps:**
1. Check database before and after upgrade
2. Verify no data loss
3. Check for any migration scripts

**Expected Results:**
- ✅ No data loss
- ✅ All quiz data intact
- ✅ No database errors in WordPress logs

---

## Troubleshooting Common Issues

### Issue 1: "Return to Course" Link Not Appearing
**Checklist:**
- [ ] Quiz is in fullscreen mode (check URL for `?fullscreen=1`)
- [ ] Quiz is linked to a course (check quiz settings)
- [ ] Page fully loaded (check browser console for errors)
- [ ] CSS file loaded correctly (check Network tab)

### Issue 2: Paragraph Breaks Not Showing
**Checklist:**
- [ ] Question text has double line breaks (not just single)
- [ ] Browser cache cleared
- [ ] Theme CSS not overriding plugin styles

### Issue 3: Feedback Not Showing for Unanswered
**Checklist:**
- [ ] `incorrect_feedback` is configured for the question
- [ ] JavaScript not throwing errors (check console)
- [ ] Question was actually submitted (not just opened)

---

## Test Sign-Off

### Test Completion Checklist
- [ ] All feature tests passed
- [ ] All regression tests passed
- [ ] Integration tests passed
- [ ] Browser compatibility verified
- [ ] Mobile testing completed
- [ ] Performance acceptable
- [ ] Accessibility verified
- [ ] Edge cases handled
- [ ] Upgrade path tested
- [ ] Documentation reviewed

### Test Results Summary
**Version Tested:** 2.15  
**Test Date:** ___________  
**Tester Name:** ___________  
**Overall Status:** [ ] PASS / [ ] FAIL  

**Issues Found:**
1. _______________________
2. _______________________
3. _______________________

**Recommendation:** [ ] Approve for Release / [ ] Requires Fixes

---

## Reporting Issues

If you find any issues during testing:

1. **Document the issue:**
   - What you were doing
   - What you expected
   - What actually happened
   - Steps to reproduce

2. **Check browser console:**
   - Any JavaScript errors?
   - Any network errors?

3. **Provide environment details:**
   - WordPress version
   - PHP version
   - Browser and version
   - Theme name

4. **Take screenshots:**
   - Screenshot of the issue
   - Screenshot of browser console (if errors present)

5. **Report to development team**

---

**Testing Guide Version:** 1.0  
**Last Updated:** 2025-12-19  
**For Plugin Version:** 2.15
