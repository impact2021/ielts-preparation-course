# Version 2.13 Testing Guide

## Overview
This guide provides comprehensive testing instructions for version 2.13 of the IELTS Course Manager plugin.

## Prerequisites
- WordPress installation with the IELTS Course Manager plugin installed
- At least one course with lessons and quizzes
- A computer-based test (CBT) quiz with:
  - Computer-based layout enabled
  - "Open as Popup" option enabled
  - Questions with feedback configured (correct_feedback and/or incorrect_feedback fields)
- Test user account with access to the course

## Test Case 1: Version Number Verification
**Objective**: Verify the plugin version has been updated to 2.13

**Steps**:
1. Log in to WordPress admin
2. Navigate to Plugins → Installed Plugins
3. Locate "IELTS Course Manager" in the plugin list

**Expected Result**:
- Plugin version displays as 2.13

**Status**: ☐ Pass ☐ Fail

---

## Test Case 2: Fullscreen Mode - Quiz Header Hidden
**Objective**: Verify the quiz header is hidden in fullscreen CBT mode

**Setup**:
1. Ensure you have a quiz with:
   - Layout Type: Computer Based
   - Open as Popup: Enabled
2. Add the quiz to a lesson

**Steps**:
1. Navigate to the lesson page as a logged-in student
2. Click on the "Start CBT Exercise" button or click the quiz title link
3. If not already in fullscreen mode, click "Open in Fullscreen"
4. Observe the quiz display

**Expected Results**:
- Quiz header (title, breadcrumb navigation, description) is NOT visible
- Reading text column displays on the left
- Questions column displays on the right
- Timer (if configured) displays at the top
- Question navigation displays at the bottom
- Maximum screen space is used for quiz content

**Verify Specifically**:
- ☐ Quiz title is not visible
- ☐ Breadcrumb navigation (Course → Lesson → Quiz) is not visible
- ☐ Quiz description is not visible
- ☐ Content starts immediately with the quiz form
- ☐ No wasted space at the top (except timer if configured)

**Status**: ☐ Pass ☐ Fail

---

## Test Case 3: Non-Fullscreen Mode - Quiz Header Visible
**Objective**: Verify the quiz header is still visible in non-fullscreen mode

**Setup**:
1. Use the same quiz from Test Case 2
2. Access it without the fullscreen parameter

**Steps**:
1. Navigate directly to the quiz permalink (not through the lesson's fullscreen link)
2. Observe the quiz display

**Expected Results**:
- Quiz header IS visible with:
  - Quiz title
  - Breadcrumb navigation
  - Quiz description
- If "Open as Popup" is enabled, an "Open in Fullscreen" button/link displays
- Standard WordPress theme header and footer are present

**Status**: ☐ Pass ☐ Fail

---

## Test Case 4: Answer Review with Feedback Display
**Objective**: Verify feedback messages display when reviewing answers

**Setup**:
1. Create or edit a CBT quiz
2. Add questions with feedback:
   - For a multiple choice question: Add text in the "Correct Answer Feedback" field
   - For another question: Add text in the "Incorrect Answer Feedback" field
   - Include some HTML formatting in feedback (e.g., `<strong>Important:</strong>`, `<em>Note:</em>`)
3. Save the quiz

**Steps**:
1. Open the quiz in fullscreen mode as a student
2. Answer questions (intentionally answer at least one correctly and one incorrectly)
3. Click "Submit Quiz"
4. Review the results modal that appears
5. Click "Review my answers" button
6. Scroll through the questions and observe

**Expected Results for Each Question**:
- Questions answered correctly should:
  - ☐ Be highlighted in green
  - ☐ Show feedback message below the question (if configured)
  - ☐ Feedback has a green left border (#4caf50)
  - ☐ Feedback text is clearly readable
  - ☐ HTML formatting in feedback is rendered correctly

- Questions answered incorrectly should:
  - ☐ Be highlighted in red
  - ☐ Show the correct answer highlighted in green
  - ☐ Show feedback message below the question (if configured)
  - ☐ Feedback has a red left border (#f44336)
  - ☐ Feedback text is clearly readable
  - ☐ HTML formatting in feedback is rendered correctly

- Questions without configured feedback should:
  - ☐ Show highlighting but no feedback message
  - ☐ Still display correctly

**Status**: ☐ Pass ☐ Fail

---

## Test Case 5: Feedback Visual Styling
**Objective**: Verify feedback styling matches design specifications

**Steps**:
1. Following Test Case 4, after clicking "Review my answers"
2. Inspect a question with feedback using browser developer tools

**Expected CSS Properties** (from `.question-feedback-message`):
- ☐ `margin-top: 10px`
- ☐ `padding: 10px`
- ☐ `background: #f0f0f1`
- ☐ `border-radius: 3px`
- ☐ `border-left: 4px solid` (color varies by correctness)
- ☐ `font-size: 0.95em`
- ☐ `line-height: 1.5`

**For Correct Answers** (`.feedback-correct`):
- ☐ Border color is `#4caf50` (green)

**For Incorrect Answers** (`.feedback-incorrect`):
- ☐ Border color is `#f44336` (red)

**Status**: ☐ Pass ☐ Fail

---

## Test Case 6: Non-CBT Quiz Compatibility
**Objective**: Verify non-CBT quizzes are not affected by changes

**Steps**:
1. Create or navigate to a quiz with standard layout (not computer-based)
2. Take the quiz
3. Submit answers
4. Review results

**Expected Results**:
- ☐ Quiz displays in standard format (not two-column)
- ☐ Results display inline (not in modal)
- ☐ Feedback displays in the results section (not below each question)
- ☐ All existing functionality works as before

**Status**: ☐ Pass ☐ Fail

---

## Test Case 7: Multiple Submissions
**Objective**: Verify feedback doesn't duplicate on repeated review

**Steps**:
1. Complete Test Case 4
2. After reviewing answers, take the quiz again
3. Submit again
4. Review answers again
5. Check for duplicate feedback messages

**Expected Results**:
- ☐ Only one feedback message appears per question
- ☐ No duplicated feedback elements
- ☐ Previous feedback is properly replaced

**Status**: ☐ Pass ☐ Fail

---

## Test Case 8: Browser Compatibility
**Objective**: Verify functionality across different browsers

**Browsers to Test**:
- ☐ Chrome/Chromium
- ☐ Firefox
- ☐ Safari (if available)
- ☐ Edge

**For Each Browser**:
1. Run Test Cases 2 and 4
2. Verify all functionality works correctly
3. Check for console errors (F12 developer tools)

**Expected Results**:
- All features work consistently across browsers
- No JavaScript errors in console
- CSS renders correctly

**Status**: ☐ Pass ☐ Fail

---

## Test Case 9: Mobile Responsiveness
**Objective**: Verify fullscreen mode works on mobile devices or responsive view

**Steps**:
1. Use browser developer tools to simulate mobile device (or test on actual device)
2. Navigate to a CBT quiz in fullscreen mode
3. Test all functionality

**Expected Results**:
- ☐ Quiz displays appropriately for smaller screens
- ☐ Two-column layout adapts to screen size
- ☐ Feedback messages are readable
- ☐ All buttons are accessible and functional

**Status**: ☐ Pass ☐ Fail

---

## Test Case 10: XSS Protection
**Objective**: Verify HTML content in feedback is properly sanitized

**Setup**:
1. Create a test quiz
2. Add feedback with potentially dangerous HTML:
   - Correct feedback: `<strong>Good job!</strong> This is <em>correct</em>.`
   - Incorrect feedback: `<script>alert('XSS')</script>Wrong answer`

**Steps**:
1. Take the quiz and submit answers
2. Review answers with feedback

**Expected Results**:
- ☐ Safe HTML tags (`<strong>`, `<em>`) render correctly
- ☐ Potentially dangerous tags (`<script>`) are stripped or escaped
- ☐ No JavaScript alert appears
- ☐ No console errors related to blocked scripts

**Status**: ☐ Pass ☐ Fail

---

## Regression Testing

### Previous Features to Verify
After completing all new feature tests, verify these existing features still work:

**Quiz Functionality**:
- ☐ Timer counts down correctly
- ☐ Timer auto-submits when reaching zero
- ☐ Answers are saved correctly
- ☐ Score calculation is accurate
- ☐ Band score displays correctly (if configured)

**Navigation**:
- ☐ Question navigation buttons work
- ☐ Clicking navigation scrolls to question
- ☐ Reading text switches when navigating questions
- ☐ Previous/Next quiz links work

**Results Modal**:
- ☐ Modal appears after submission
- ☐ Score/band score displays
- ☐ "Review my answers" button works
- ☐ "Take Quiz Again" button works
- ☐ "Continue" button works (if next item available)
- ☐ Modal close button works

**Status**: ☐ Pass ☐ Fail

---

## Bug Reporting

If any test fails, document:
1. Test case number and name
2. Steps to reproduce
3. Expected behavior
4. Actual behavior
5. Browser/device information
6. Screenshots or console errors (if applicable)

---

## Sign-off

**Tester Name**: _________________
**Date**: _________________
**Overall Status**: ☐ All tests passed ☐ Issues found (see bug report)
**Notes**: ________________________________________________
