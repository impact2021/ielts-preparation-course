# Version 2.16 Testing Guide

## Overview
This guide provides step-by-step instructions for testing all features implemented in version 2.16 of the IELTS Course Manager plugin.

## Pre-Testing Setup

### Requirements
- WordPress 5.8 or higher
- PHP 7.2 or higher
- IELTS Course Manager plugin v2.16 installed and activated
- At least one course created
- At least one lesson linked to the course
- At least one computer-based test (CBT) exercise linked to the lesson

### Test Data Setup
1. Create a test course (if not exists)
2. Create a test lesson and assign it to the course
3. Create a CBT exercise with:
   - Layout type: Computer-Based IELTS Layout
   - At least 2 reading texts
   - At least 10 questions
   - Timer set (e.g., 20 minutes)
   - Linked to the test course and lesson

## Test Cases

### Test 1: Return to Course Link - During Test

**Objective**: Verify the return link appears in the top right during an active test.

**Steps**:
1. Navigate to the test course page
2. Click on the test lesson
3. Click on the CBT exercise
4. If prompted for fullscreen, click "Open in Fullscreen"
5. Observe the timer bar at the top of the page

**Expected Results**:
- ✅ Timer bar is visible at the top
- ✅ Timer shows "Time Remaining: XX:XX" on the left/center
- ✅ "Return to course" link appears on the right side
- ✅ Link is styled as a blue button
- ✅ Link text is clear and readable
- ✅ Timer and link are on the same row
- ✅ Layout looks balanced (timer centered, link on right)

**Screenshots Required**:
- Full width view of timer bar during test

---

### Test 2: Return to Course Link - After Submission (Band Score)

**Objective**: Verify the return link persists after quiz submission when band score is displayed.

**Prerequisites**: 
- Exercise must have "Scoring Type" set to IELTS band score (e.g., "IELTS Academic Reading")

**Steps**:
1. Take the test from Test 1
2. Answer at least some questions
3. Click "Submit Quiz"
4. Wait for results modal to appear
5. Close the results modal or click "Review my answers"
6. Observe the timer bar

**Expected Results**:
- ✅ Timer bar is still visible
- ✅ Timer now shows "Band Score: X.X" instead of time
- ✅ "Return to course" link is still present on the right
- ✅ Link is clickable and functional
- ✅ Layout maintains the same appearance

**Screenshots Required**:
- Timer bar after submission showing band score and return link

---

### Test 3: Return to Course Link - After Submission (Percentage)

**Objective**: Verify the return link persists after quiz submission when percentage is displayed.

**Prerequisites**: 
- Exercise must have "Scoring Type" set to "Percentage (Standard)"

**Steps**:
1. Create or edit a CBT exercise with Percentage scoring
2. Take the test
3. Answer questions and submit
4. Close results modal or click "Review my answers"
5. Observe the timer bar

**Expected Results**:
- ✅ Timer bar shows "Score: XX%" instead of time
- ✅ "Return to course" link is still present on the right
- ✅ Link works correctly

**Screenshots Required**:
- Timer bar after submission showing percentage and return link

---

### Test 4: Return to Course Link Functionality

**Objective**: Verify the return link navigates correctly to the course page.

**Steps**:
1. During or after a test (from Test 1, 2, or 3)
2. Click the "Return to course" link
3. Observe where you are redirected

**Expected Results**:
- ✅ Clicking the link navigates to the course page
- ✅ Course page loads correctly
- ✅ No JavaScript errors in console
- ✅ Navigation is smooth (no delays or errors)

---

### Test 5: Timer Bar - With Timer Only

**Objective**: Verify timer bar displays correctly when there's a timer but no course link.

**Steps**:
1. Create a CBT exercise with timer but NOT linked to any course
2. Access the exercise directly (via URL or preview)
3. Observe the timer bar

**Expected Results**:
- ✅ Timer bar is visible
- ✅ Timer displays correctly
- ✅ No "Return to course" link appears (as expected)
- ✅ Timer content is centered

---

### Test 6: Timer Bar - With Course Link Only (No Timer)

**Objective**: Verify timer bar displays correctly when there's a course link but no timer.

**Steps**:
1. Create/edit a CBT exercise
2. Set timer to 0 or leave blank
3. Link the exercise to a course
4. Take the test

**Expected Results**:
- ✅ Timer bar is visible
- ✅ No timer display (only return link visible)
- ✅ "Return to course" link appears on the right
- ✅ Layout looks correct with only the link

---

### Test 7: Question Navigation - Label Removed

**Objective**: Verify "Jump to Question:" text is removed from navigation.

**Steps**:
1. Open any CBT exercise
2. Scroll to the bottom navigation bar
3. Observe the question buttons area

**Expected Results**:
- ✅ No "Jump to Question:" text visible
- ✅ Question number buttons are prominently displayed
- ✅ Reading passage labels (if any) are visible
- ✅ Submit button is on the right
- ✅ Layout is clean and uncluttered
- ✅ Navigation is easy to understand without the label

**Screenshots Required**:
- Bottom navigation bar showing question buttons without label

---

### Test 8: Question Navigation Functionality

**Objective**: Verify question navigation still works without the label.

**Steps**:
1. Open a CBT exercise
2. Click various question number buttons
3. Observe navigation behavior

**Expected Results**:
- ✅ Clicking question buttons scrolls to correct question
- ✅ Question highlights when navigated to
- ✅ Answered questions show green background
- ✅ All navigation features work as before

---

### Test 9: Collapsible Reading Texts - Page Load

**Objective**: Verify reading texts collapse by default when editing an exercise.

**Steps**:
1. Log in as administrator
2. Go to "IELTS Courses" > "Exercises"
3. Edit an existing CBT exercise that has reading texts
4. Scroll to the "Reading Texts" section

**Expected Results**:
- ✅ All existing reading texts are collapsed
- ✅ Only reading text headers are visible (e.g., "Reading Text 1")
- ✅ Caret icons point to the right (→)
- ✅ Reading text content is hidden
- ✅ Questions section below is also collapsed (existing behavior)

**Screenshots Required**:
- Admin screen showing collapsed reading texts

---

### Test 10: Collapsible Reading Texts - Expand/Collapse

**Objective**: Verify reading texts can be expanded and collapsed by clicking.

**Steps**:
1. From Test 9, with collapsed reading texts visible
2. Click on "Reading Text 1" header
3. Observe the behavior
4. Click the header again
5. Repeat with other reading texts

**Expected Results**:
- ✅ First click expands the reading text
- ✅ Content slides down smoothly (animation)
- ✅ Caret icon rotates to point down (↓)
- ✅ Second click collapses the reading text
- ✅ Content slides up smoothly
- ✅ Caret icon rotates to point right (→)
- ✅ Can expand/collapse multiple times
- ✅ WYSIWYG editor loads correctly when expanded

**Screenshots Required**:
- Expanded reading text showing editor and fields

---

### Test 11: Collapsible Reading Texts - Add New

**Objective**: Verify new reading texts start expanded for immediate editing.

**Steps**:
1. Edit a CBT exercise (from Test 9 or 10)
2. Scroll to "Reading Texts" section
3. Click "Add Reading Text" button
4. Observe the new reading text

**Expected Results**:
- ✅ New reading text appears
- ✅ New reading text is expanded (not collapsed)
- ✅ Caret icon points down (↓)
- ✅ Title and content fields are visible
- ✅ Can immediately start typing in fields
- ✅ Remove button is visible

**Screenshots Required**:
- Newly added reading text in expanded state

---

### Test 12: Collapsible Reading Texts - Save and Reload

**Objective**: Verify reading text content saves correctly and reloads collapsed.

**Steps**:
1. Edit a CBT exercise
2. Expand a reading text (or add new one)
3. Edit the title and content
4. Click "Update" to save the exercise
5. Reload the page or re-edit the exercise
6. Observe the reading texts

**Expected Results**:
- ✅ Changes are saved correctly
- ✅ Reading texts are collapsed on page reload
- ✅ Expanding them shows the saved content
- ✅ WYSIWYG editor displays saved HTML correctly

---

### Test 13: Collapsible Reading Texts - Remove

**Objective**: Verify remove functionality still works with collapsed reading texts.

**Steps**:
1. Edit a CBT exercise with multiple reading texts
2. Expand one reading text
3. Click "Remove Reading Text" button
4. Observe the behavior

**Expected Results**:
- ✅ Reading text is removed immediately
- ✅ No JavaScript errors
- ✅ Other reading texts remain intact
- ✅ Can remove from both collapsed and expanded state

---

### Test 14: Mobile Responsiveness - Timer Bar

**Objective**: Verify timer bar works correctly on mobile devices.

**Steps**:
1. Open a CBT exercise on a mobile device or use browser DevTools mobile emulation
2. Take a test
3. Observe timer bar on different screen sizes

**Expected Results**:
- ✅ Timer bar is visible and readable
- ✅ Return link doesn't wrap to new line (white-space: nowrap)
- ✅ Layout adapts gracefully to smaller screens
- ✅ Both timer and link are accessible
- ✅ No horizontal scrolling required

**Devices to Test**:
- iPhone (portrait and landscape)
- Android phone (portrait and landscape)
- iPad/tablet (portrait and landscape)

---

### Test 15: Mobile Responsiveness - Question Navigation

**Objective**: Verify question navigation works correctly on mobile devices.

**Steps**:
1. Open a CBT exercise on mobile
2. Scroll to bottom navigation
3. Test navigation functionality

**Expected Results**:
- ✅ Question buttons are visible and tappable
- ✅ Submit button is accessible
- ✅ No layout issues on small screens
- ✅ Reading passage labels (if any) display correctly

---

### Test 16: Browser Compatibility

**Objective**: Verify all features work across different browsers.

**Browsers to Test**:
- Chrome (latest)
- Firefox (latest)
- Safari (latest)
- Edge (latest)

**Steps** (for each browser):
1. Open CBT exercise
2. Verify timer bar appearance and functionality
3. Take test and verify return link persists
4. Check question navigation
5. Edit exercise in admin and verify collapsible reading texts

**Expected Results**:
- ✅ Consistent appearance across browsers
- ✅ All features work correctly
- ✅ No browser-specific issues
- ✅ No console errors

---

### Test 17: Accessibility

**Objective**: Verify accessibility features are maintained.

**Steps**:
1. Use keyboard navigation to tab through timer bar and navigation
2. Use screen reader to test return link and navigation
3. Verify color contrast meets WCAG standards

**Expected Results**:
- ✅ Return link is keyboard accessible (can tab to it)
- ✅ Link has proper focus styles
- ✅ Screen reader announces link correctly
- ✅ Color contrast is sufficient (blue button on white)
- ✅ Caret icons don't interfere with accessibility

---

### Test 18: Performance

**Objective**: Verify no performance degradation with new features.

**Steps**:
1. Open browser DevTools Performance tab
2. Take a CBT test
3. Submit the test
4. Monitor JavaScript execution and rendering

**Expected Results**:
- ✅ No significant performance impact
- ✅ Timer update doesn't cause layout shifts
- ✅ Collapsible animations are smooth (60fps)
- ✅ No memory leaks
- ✅ No excessive DOM manipulations

---

## Regression Testing

### Existing Features to Verify Still Work

1. **Timer Functionality**
   - ✅ Timer counts down correctly
   - ✅ Timer stops when quiz is submitted
   - ✅ Timer shows in results

2. **Quiz Submission**
   - ✅ Submit button works
   - ✅ Results modal appears
   - ✅ Score calculation is correct
   - ✅ Band score conversion works

3. **Answer Review**
   - ✅ "Review my answers" button works
   - ✅ Correct answers highlighted in green
   - ✅ Incorrect answers highlighted in red
   - ✅ Feedback displays correctly

4. **Reading Text Display**
   - ✅ Reading texts show in left column
   - ✅ Reading text switching works (linked questions)
   - ✅ Multiple reading texts handled correctly

5. **Question Navigation**
   - ✅ Question buttons work
   - ✅ Smooth scrolling to questions
   - ✅ Question highlighting works
   - ✅ Answered status shows (green background)

6. **Admin Features**
   - ✅ Can create/edit CBT exercises
   - ✅ Can add/remove reading texts
   - ✅ Can add/remove questions
   - ✅ All fields save correctly
   - ✅ WYSIWYG editors work

---

## Bug Reporting Template

If you find any issues during testing, please report them using this template:

```
**Bug Title**: [Brief description]

**Test Case**: Test #X - [Test name]

**Severity**: [Critical / High / Medium / Low]

**Environment**:
- WordPress Version: 
- PHP Version: 
- Browser: 
- Device: 

**Steps to Reproduce**:
1. 
2. 
3. 

**Expected Result**:
[What should happen]

**Actual Result**:
[What actually happened]

**Screenshots**:
[Attach screenshots if applicable]

**Console Errors**:
[Any JavaScript errors from browser console]

**Additional Notes**:
[Any other relevant information]
```

---

## Success Criteria

All tests must pass with ✅ for the release to be considered ready for production.

### Critical Tests (Must Pass)
- Test 1: Return link during test
- Test 2: Return link after submission (band score)
- Test 4: Return link functionality
- Test 7: Navigation label removed
- Test 12: Reading text save and reload

### High Priority Tests (Should Pass)
- All other numbered tests
- All regression tests

### Nice to Have (Good to Pass)
- Test 16: All browsers (at least 3 major browsers required)
- Test 17: Full accessibility compliance
- Test 18: Performance benchmarks

---

## Testing Sign-off

Once all tests are completed, please fill in:

**Tester Name**: ___________________
**Date**: ___________________
**Version Tested**: 2.16
**Overall Result**: ☐ PASS / ☐ FAIL
**Ready for Production**: ☐ YES / ☐ NO

**Notes**:
___________________________________________
___________________________________________
___________________________________________
