# Version 2.18 Testing Guide

**Version**: 2.18  
**Date**: 2025-12-19  
**Previous Version**: 2.17

## Overview

This guide provides comprehensive testing procedures for Version 2.18 of the IELTS Course Manager plugin. Version 2.18 includes fixes for text highlighting and navigation optimization for CBT (Computer-Based Test) exercises.

## Changes in Version 2.18

1. **Text Highlighting Fix**: Fixed background color not applying to highlighted text
2. **Compact Navigation**: Reduced button size to fit 40+ questions on one line
3. **Simplified Separators**: Replaced "Reading Passage X" with "|" separator
4. **Version Update**: Updated to version 2.18

---

## Pre-Testing Requirements

### Environment Setup

- **WordPress Version**: 5.8 or higher
- **PHP Version**: 7.2 or higher
- **Theme**: Any WordPress theme
- **Required Plugin**: IELTS Course Manager v2.18

### Test Data Preparation

You'll need to create or have access to:

1. **CBT Quiz with Reading Text**: A quiz configured with computer-based layout and reading passages
2. **Multi-Question Quiz**: A quiz with at least 40 questions
3. **Multi-Passage Quiz**: A quiz with 3+ reading passages with questions distributed across them

---

## Test Cases

### Test Case 1: Version Number Verification

**Objective**: Verify plugin version updated to 2.18

**Steps**:
1. Log in to WordPress admin
2. Navigate to **Plugins** → **Installed Plugins**
3. Locate "IELTS Course Manager" in the plugin list
4. Check version number displayed

**Expected Results**:
- ✅ Plugin version shows "2.18"

**Alternative Verification**:
1. Open the file `ielts-course-manager.php` in a text editor
2. Check line 6 for `* Version: 2.18`
3. Check line 23 for `define('IELTS_CM_VERSION', '2.18');`

**Status**: [ ] Pass  [ ] Fail

**Notes**:
_______________________________________

---

### Test Case 2: Text Highlighting Background Color

**Objective**: Verify that highlighted text displays with yellow background

**Prerequisites**:
- CBT quiz with at least one reading passage
- Quiz should have computer-based layout enabled

**Steps**:
1. Navigate to a CBT quiz page
2. Find a paragraph of text in the reading passage (left side)
3. Select a portion of text (click and drag to highlight)
4. Right-click on the selected text
5. Verify context menu appears with "Highlight" option
6. Click "Highlight" in the context menu
7. Observe the selected text

**Expected Results**:
- ✅ Context menu appears on right-click
- ✅ "Highlight" option is visible with yellow bullet point (●)
- ✅ After clicking "Highlight", selected text background turns **bright yellow** (#ffff00)
- ✅ Text remains readable (black text on yellow background)
- ✅ Cursor changes to pointer when hovering over highlighted text

**Additional Verification**:
1. Highlight multiple different text sections
   - ✅ Each section should show yellow background
2. Refresh the page
   - ✅ Highlights should persist (stored in session)
3. Submit the quiz
   - ✅ Highlights should clear after submission

**Regression Check**:
- ✅ "Clear" button appears when highlights exist
- ✅ Clicking "Clear" removes all highlights

**Status**: [ ] Pass  [ ] Fail

**Notes**:
_______________________________________

---

### Test Case 3: Navigation Button Size and Spacing

**Objective**: Verify navigation buttons are smaller and fit 40 questions on one line

**Prerequisites**:
- CBT quiz with 40 questions
- Screen resolution: 1366x768 or higher (standard desktop)

**Steps**:
1. Create a new CBT quiz with exactly 40 questions
   - All questions can be simple multiple choice
   - Link questions to reading passages if desired
2. Save the quiz
3. View the quiz page as a student (frontend)
4. Scroll to the bottom navigation bar
5. Observe the question number buttons

**Expected Results**:

**Visual Inspection**:
- ✅ All 40 question buttons are visible on **one line** (no wrapping to second line)
- ✅ Buttons are **smaller** than in version 2.17
- ✅ Buttons are still **readable** (number clearly visible)
- ✅ Buttons are still **clickable** (not too small)

**Measurements** (if using browser dev tools):
- ✅ Button width: 32px (previously 40px)
- ✅ Button height: 32px (previously 40px)
- ✅ Gap between buttons: 5px (previously 8px)
- ✅ Font size: 13px

**Functionality**:
1. Click on button "1"
   - ✅ Should scroll to question 1
2. Click on button "40"
   - ✅ Should scroll to question 40
3. Hover over any button
   - ✅ Button should change color (blue background)
   - ✅ Button should lift slightly (translateY animation)

**Responsive Testing**:
1. Resize browser window to 1024px width
   - ✅ Buttons should adapt gracefully (may wrap if needed)
2. Test on mobile device (if available)
   - ✅ Responsive design should still work

**Status**: [ ] Pass  [ ] Fail

**Notes**:
_______________________________________

---

### Test Case 4: Passage Separator Design

**Objective**: Verify "Reading Passage X" labels replaced with "|" separators

**Prerequisites**:
- CBT quiz with 3+ reading passages
- Questions distributed across multiple passages
- Example distribution:
  - Passage 1: Questions 1-13
  - Passage 2: Questions 14-27
  - Passage 3: Questions 28-40

**Steps**:
1. Create or open a CBT quiz with multiple reading passages
2. Ensure questions are linked to different passages
3. View the quiz page as a student
4. Scroll to the bottom navigation bar
5. Observe the separators between question groups

**Expected Results**:

**Visual Check**:
- ✅ Vertical bar "|" separator appears between passage groups
- ✅ NO "Reading Passage 1" text
- ✅ NO "Reading Passage 2" text
- ✅ NO "Reading Passage 3" text
- ✅ NO blue background boxes around text
- ✅ Separator is **simple** and **minimal**

**Layout Example** (for 40 questions, 3 passages):
```
[1] [2] [3] ... [13] | [14] [15] ... [27] | [28] [29] ... [40] [Submit Quiz]
```

**Specific Checks**:
1. First question (1) should have **NO separator before it**
   - ✅ Navigation starts directly with button [1]
2. Transition from passage 1 to passage 2
   - ✅ "|" separator appears between [13] and [14]
3. Transition from passage 2 to passage 3
   - ✅ "|" separator appears between [27] and [28]

**Styling Check** (using browser dev tools):
- ✅ Separator class: `passage-separator`
- ✅ Separator color: gray (#999)
- ✅ Separator font-weight: 400 (normal)
- ✅ Separator font-size: 16px
- ✅ Separator padding: 0 4px (minimal)

**Space Savings**:
- ✅ Overall navigation bar should look **much cleaner**
- ✅ More horizontal space available for question buttons

**Status**: [ ] Pass  [ ] Fail

**Notes**:
_______________________________________

---

### Test Case 5: Integration Testing - All Features Together

**Objective**: Verify all version 2.18 features work together correctly

**Prerequisites**:
- CBT quiz with:
  - 40 questions
  - 3 reading passages
  - Questions distributed across passages

**Steps**:
1. View the quiz page
2. Test navigation:
   - Click various question buttons
   - Verify scrolling works correctly
   - Verify separators appear in correct positions
3. Test highlighting:
   - Highlight text in passage 1
   - Click question button to jump to question 20 (passage 2)
   - Highlight text in passage 2
   - Navigate back to question 1
   - Verify highlights in passage 1 still visible
4. Complete quiz workflow:
   - Answer some questions
   - Navigate using buttons
   - Submit quiz
   - Verify highlights clear after submission

**Expected Results**:
- ✅ Navigation buttons work correctly with new size
- ✅ Separators appear correctly between passages
- ✅ Highlighting works with yellow background
- ✅ No visual conflicts between features
- ✅ All features maintain functionality

**Status**: [ ] Pass  [ ] Fail

**Notes**:
_______________________________________

---

### Test Case 6: Browser Compatibility

**Objective**: Verify changes work across different browsers

**Browsers to Test**:
1. **Google Chrome** (latest version)
2. **Mozilla Firefox** (latest version)
3. **Safari** (latest version, Mac only)
4. **Microsoft Edge** (latest version)
5. **Mobile Safari** (iOS)
6. **Chrome Mobile** (Android)

**For Each Browser**:
1. Open CBT quiz with 40 questions
2. Verify navigation buttons display correctly
3. Test highlighting functionality
4. Verify separators display correctly

**Expected Results**:
For each browser:
- ✅ Navigation buttons are compact and on one line
- ✅ Highlighting background shows yellow color
- ✅ Separators appear as "|" character
- ✅ No visual glitches or rendering issues

**Status**: 
- [ ] Chrome: Pass / Fail
- [ ] Firefox: Pass / Fail
- [ ] Safari: Pass / Fail
- [ ] Edge: Pass / Fail
- [ ] Mobile Safari: Pass / Fail
- [ ] Chrome Mobile: Pass / Fail

**Notes**:
_______________________________________

---

### Test Case 7: Backward Compatibility

**Objective**: Verify existing quizzes still work correctly

**Test Scenarios**:

**Scenario A: Regular (Non-CBT) Quiz**
1. Open a regular quiz (not computer-based layout)
2. Verify quiz functions normally
3. Expected: No changes to regular quiz layout

**Scenario B: CBT Quiz with < 40 Questions**
1. Open CBT quiz with 20 questions
2. Verify navigation buttons display correctly
3. Expected: Buttons smaller but everything works

**Scenario C: CBT Quiz with No Reading Passages**
1. Open CBT quiz with questions but no reading passages
2. Verify navigation displays correctly
3. Expected: No separators appear (no passages to separate)

**Scenario D: Existing Quiz with Old Layout**
1. Open quiz created before version 2.18
2. Verify it still displays and functions correctly
3. Expected: Automatic upgrade to new navigation style

**Expected Results**:
- ✅ All existing quiz types continue to work
- ✅ No errors or broken layouts
- ✅ Automatic upgrade to new features where applicable

**Status**: [ ] Pass  [ ] Fail

**Notes**:
_______________________________________

---

### Test Case 8: Edge Cases and Error Conditions

**Objective**: Test unusual scenarios and edge cases

**Scenario A: Quiz with 1 Question**
1. Create CBT quiz with only 1 question
2. Expected: One button, no separators, no issues

**Scenario B: Quiz with 50+ Questions**
1. Create CBT quiz with 50 questions
2. Expected: Buttons may wrap to second line, but layout remains functional

**Scenario C: Empty Reading Passage**
1. Create CBT quiz with empty reading passage
2. Try to highlight text
3. Expected: No text to highlight, no errors

**Scenario D: Multiple Highlights Overlap**
1. Highlight text
2. Try to highlight overlapping text
3. Expected: Graceful handling, no JavaScript errors

**Scenario E: Session Storage Disabled**
1. Disable browser session storage
2. Try to highlight text
3. Expected: Highlighting works but doesn't persist on refresh

**Expected Results**:
- ✅ No JavaScript errors in console
- ✅ Graceful degradation in edge cases
- ✅ No broken layouts

**Status**: [ ] Pass  [ ] Fail

**Notes**:
_______________________________________

---

## Regression Testing

### Features to Verify Still Work

1. **Quiz Submission**
   - [ ] Quiz can be submitted successfully
   - [ ] Results display correctly

2. **Question Navigation**
   - [ ] Scroll to question on button click
   - [ ] Current question highlighting
   - [ ] Answered question indication (green button)

3. **Reading Passage Switching**
   - [ ] Passages switch when navigating questions
   - [ ] Correct passage displays for each question

4. **Timer Functionality**
   - [ ] Timer displays correctly
   - [ ] Timer counts down
   - [ ] Quiz submits when timer expires

5. **Fullscreen Mode**
   - [ ] Fullscreen mode works
   - [ ] Navigation visible in fullscreen
   - [ ] Exit fullscreen works

6. **Results Display**
   - [ ] Score calculated correctly
   - [ ] Correct/incorrect answers highlighted
   - [ ] Feedback displayed properly

---

## Performance Testing

### Metrics to Monitor

1. **Page Load Time**
   - Load CBT quiz page
   - Compare load time to version 2.17
   - Expected: No significant increase (< 50ms difference)

2. **Navigation Responsiveness**
   - Click through all 40 question buttons rapidly
   - Expected: Smooth, no lag

3. **Highlighting Performance**
   - Highlight 20+ text sections
   - Expected: No slowdown or lag

**Status**: [ ] Pass  [ ] Fail

**Notes**:
_______________________________________

---

## Security Testing

### Checks to Perform

1. **XSS Testing**
   - Attempt to inject `<script>` tags in reading passage
   - Expected: Properly escaped, no execution

2. **CSS Injection**
   - Attempt to inject malicious CSS
   - Expected: Properly sanitized

3. **Console Errors**
   - Check browser console during all tests
   - Expected: No errors or warnings

**Status**: [ ] Pass  [ ] Fail

**Notes**:
_______________________________________

---

## Accessibility Testing

### Checks to Perform

1. **Keyboard Navigation**
   - Tab through question buttons
   - Expected: All buttons reachable via keyboard

2. **Screen Reader**
   - Use screen reader to navigate quiz
   - Expected: Buttons and separators announced correctly

3. **Color Contrast**
   - Check highlight color contrast
   - Expected: Yellow background with black text meets WCAG standards

**Status**: [ ] Pass  [ ] Fail

**Notes**:
_______________________________________

---

## Known Issues and Limitations

### Version 2.18 Limitations

1. **Screen Width Dependency**: 40 buttons fit on screens ≥1366px wide. Smaller screens may experience button wrapping.
   - **Mitigation**: Responsive design maintains usability on smaller screens

2. **Highlight Persistence**: Highlights only persist within the same session (browser tab). Closing and reopening the quiz clears highlights.
   - **Expected Behavior**: This is by design for quiz sessions

---

## Troubleshooting Guide

### Issue: Highlights Don't Show Yellow Background

**Possible Causes**:
1. Browser cache not cleared
2. Theme CSS overriding highlight styles
3. Browser developer tools open with forced colors

**Solutions**:
1. Hard refresh page (Ctrl+Shift+R / Cmd+Shift+R)
2. Clear browser cache
3. Check browser console for CSS errors
4. Verify `!important` flag in CSS

---

### Issue: Buttons Still Wrapping to Multiple Lines

**Possible Causes**:
1. Screen resolution too small
2. Browser zoom > 100%
3. Custom theme CSS interfering

**Solutions**:
1. Check screen resolution (should be ≥1366px)
2. Reset browser zoom to 100%
3. Test in different browser
4. Check for conflicting theme CSS

---

### Issue: Separators Don't Appear

**Possible Causes**:
1. Questions not linked to reading passages
2. All questions linked to same passage
3. Template cache not cleared

**Solutions**:
1. Verify questions have `reading_text_id` assigned
2. Ensure questions distributed across multiple passages
3. Clear WordPress cache (if caching plugin active)

---

## Test Results Summary

### Overall Test Status

| Test Case | Status | Notes |
|-----------|--------|-------|
| 1. Version Number | [ ] Pass [ ] Fail | |
| 2. Text Highlighting | [ ] Pass [ ] Fail | |
| 3. Button Size | [ ] Pass [ ] Fail | |
| 4. Passage Separators | [ ] Pass [ ] Fail | |
| 5. Integration | [ ] Pass [ ] Fail | |
| 6. Browser Compatibility | [ ] Pass [ ] Fail | |
| 7. Backward Compatibility | [ ] Pass [ ] Fail | |
| 8. Edge Cases | [ ] Pass [ ] Fail | |
| Regression Tests | [ ] Pass [ ] Fail | |
| Performance Tests | [ ] Pass [ ] Fail | |
| Security Tests | [ ] Pass [ ] Fail | |
| Accessibility Tests | [ ] Pass [ ] Fail | |

---

## Sign-Off

### Tester Information

**Tester Name**: _______________________  
**Date Tested**: _______________________  
**Environment**: _______________________  
**Browser(s)**: _______________________

### Recommendation

- [ ] ✅ **Approve for Production** - All tests passed
- [ ] ⚠️ **Approve with Notes** - Minor issues found, documented above
- [ ] ❌ **Reject** - Critical issues found, requires fixes

**Additional Comments**:
_______________________________________
_______________________________________
_______________________________________

---

## Appendices

### Appendix A: Test Data Creation

**Creating a 40-Question CBT Quiz**:

1. Go to **Quizzes** → **Add New**
2. Enter quiz title: "40-Question Reading Test"
3. In **Quiz Settings** metabox:
   - Layout: Computer-Based
   - Enable Timer: Yes (60 minutes)
4. Add 3 Reading Passages
5. Add 40 Multiple Choice Questions:
   - Questions 1-13: Link to Passage 1
   - Questions 14-27: Link to Passage 2
   - Questions 28-40: Link to Passage 3
6. Save quiz

---

### Appendix B: Browser DevTools Inspection

**To Verify CSS Changes**:

1. Open quiz page
2. Press F12 to open DevTools
3. Click "Elements" or "Inspector" tab
4. Find a question button: `<button class="question-nav-btn">`
5. Check computed styles:
   - width: 32px
   - height: 32px
   - font-size: 13px
6. Find highlighted text: `<span class="highlighted">`
7. Check computed styles:
   - background-color: rgb(255, 255, 0) (yellow)

---

**Version Tested**: 2.18  
**Testing Guide Version**: 1.0  
**Last Updated**: 2025-12-19
