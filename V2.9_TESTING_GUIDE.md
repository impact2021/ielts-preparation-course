# Version 2.9 Testing Guide

This guide provides step-by-step instructions to test all new features and fixes in version 2.9.

## Pre-Testing Setup

1. Backup your database and files before testing
2. Ensure you have at least one course, lesson, and CBT exercise set up
3. If testing multi-site sync, ensure you have a primary and subsite configured

---

## Test 1: Version Update Verification

### Steps:
1. Navigate to WordPress Admin → Plugins
2. Locate "IELTS Course Manager" in the plugin list
3. Verify the version shows as **2.9**

### Expected Result:
✅ Version displays as "2.9"

---

## Test 2: CBT Fullscreen Modal - Radio Buttons Fix

### Steps:
1. Create or edit an exercise with layout type "Computer-Based IELTS Layout"
2. Add several multiple choice questions
3. Save the exercise
4. View the exercise on the frontend
5. Click "Open in Fullscreen" button
6. Observe the radio button layout for multiple choice questions

### Expected Result:
✅ Radio buttons are stacked vertically (one below another)
✅ Each option appears on its own line with proper spacing
✅ NOT in a horizontal line

---

## Test 3: CBT Fullscreen Modal - Timer Visibility

### Steps:
1. Edit a CBT exercise
2. Set "Timer (Minutes)" to a value like 5 or 10
3. Save the exercise
4. View the exercise on frontend
5. Click "Open in Fullscreen"
6. Check for timer display at the top

### Expected Result:
✅ Timer is visible at the top of the modal
✅ Shows "Time Remaining: XX:XX" format
✅ Timer counts down properly
✅ Timer is sticky and stays visible when scrolling

---

## Test 4: CBT Fullscreen Modal - Reading Text Visibility

### Steps:
1. Edit a CBT exercise
2. Add reading text in the "Reading Texts" section
3. Add at least 10 questions to ensure scrolling is needed
4. Save the exercise
5. View on frontend and open in fullscreen
6. Scroll through the questions in the right column

### Expected Result:
✅ Reading text remains visible in the left column at all times
✅ Reading text does not disappear when scrolling
✅ Text is clearly readable with proper color and line-height
✅ Both columns scroll independently

---

## Test 5: CBT Fullscreen Modal - Question Navigation Highlighting

### Steps:
1. View a CBT exercise with multiple questions in fullscreen
2. Answer question 1 (select an option or fill in text)
3. Answer question 3 (skip question 2)
4. Look at the question navigation buttons at the bottom

### Expected Result:
✅ Question 1 button has a **green background**
✅ Question 2 button remains with default white/gray background
✅ Question 3 button has a **green background**
✅ Highlighting updates immediately when answering questions

---

## Test 6: CBT Popup Toggle - Checkbox Visibility

### Steps:
1. Navigate to WordPress Admin → IELTS Courses → Exercises
2. Edit an existing exercise OR create a new one
3. In "Quiz Settings" meta box, set "Layout Type" to "Standard Layout"
4. Observe the settings
5. Change "Layout Type" to "Computer-Based IELTS Layout (Two Columns)"
6. Observe the settings again

### Expected Result:
✅ When "Standard Layout" is selected: "Open as Popup" checkbox is **hidden**
✅ When "Computer-Based" is selected: "Open as Popup" checkbox **appears**
✅ Checkbox has label "Open as Popup/Fullscreen Modal"

---

## Test 7: CBT Popup Toggle - Enabled (Checked)

### Steps:
1. Edit a CBT exercise
2. Ensure "Layout Type" is "Computer-Based IELTS Layout"
3. **Check** the "Open as Popup/Fullscreen Modal" checkbox
4. Save the exercise
5. View the exercise on the frontend

### Expected Result:
✅ Exercise shows a notice: "This computer-based test must be viewed in fullscreen mode..."
✅ "Open in Fullscreen" button is displayed
✅ Quiz form is hidden until fullscreen button is clicked
✅ Clicking button opens the fullscreen modal
✅ **This is the previous default behavior**

---

## Test 8: CBT Popup Toggle - Disabled (Unchecked)

### Steps:
1. Edit the same CBT exercise
2. **Uncheck** the "Open as Popup/Fullscreen Modal" checkbox
3. Save the exercise
4. View the exercise on the frontend

### Expected Result:
✅ Exercise displays directly on the page (no fullscreen notice)
✅ "Open in Fullscreen" button is NOT shown
✅ Quiz form is immediately visible
✅ Reading text in left column, questions in right column
✅ No modal popup behavior
✅ **This is the new option for same-window display**

---

## Test 9: Multi-Site Sync - Order Preservation

### Prerequisites:
- Multi-site setup with primary and subsite configured
- At least one course with multiple lessons, sublessons, and exercises

### Steps:
1. On the primary site, create or use an existing course
2. Ensure the course has at least 3 lessons with specific order:
   - Lesson A (menu_order: 0)
   - Lesson B (menu_order: 1)
   - Lesson C (menu_order: 2)
3. Add sublessons and exercises to each lesson
4. Note the order of all content
5. Edit the course
6. In the "Push to Subsites" meta box (sidebar), click "Push to Subsites"
7. Wait for sync to complete
8. Go to the subsite
9. View the course
10. Check the order of lessons, sublessons, and exercises

### Expected Result:
✅ Lessons appear in the same order as primary (A, B, C)
✅ Sublessons within each lesson maintain their order
✅ Exercises within each lesson maintain their order
✅ No random reordering occurs
✅ Order is consistent between primary and subsite

---

## Test 10: Multi-Site Sync - Recursive Push

### Steps:
1. On the primary site, edit a course
2. Click "Push to Subsites" 
3. Review the sync results shown after push

### Expected Result:
✅ Course is pushed
✅ All lessons in the course are automatically pushed
✅ All sublessons in those lessons are automatically pushed
✅ All exercises in those lessons are automatically pushed
✅ Sync results show counts for each content type
✅ All items maintain their order

---

## Test 11: Backward Compatibility

### Steps:
1. Edit an old CBT exercise (created before v2.9)
2. Check the "Open as Popup" checkbox setting
3. View the exercise on frontend

### Expected Result:
✅ Old exercises continue to work normally
✅ If checkbox was never set, it defaults to unchecked (same-window display)
✅ No errors or broken functionality

---

## Test 12: Admin UI Responsiveness

### Steps:
1. Edit a standard (non-CBT) exercise
2. Switch layout type from "Standard" to "Computer-Based"
3. Switch back to "Standard"
4. Repeat several times

### Expected Result:
✅ "Reading Texts" section shows/hides correctly
✅ "Open as Popup" checkbox shows/hides correctly
✅ No JavaScript errors in browser console
✅ UI changes are smooth and immediate

---

## Common Issues and Solutions

### Issue: Timer not visible in fullscreen
**Solution**: Check that the exercise has a timer value set (greater than 0)

### Issue: Radio buttons still in a line
**Solution**: Clear browser cache and hard refresh (Ctrl+F5 or Cmd+Shift+R)

### Issue: Checkbox not saving
**Solution**: Ensure you click "Update" or "Publish" after checking the box

### Issue: Order not preserved in sync
**Solution**: Ensure lessons/sublessons/exercises have proper menu_order values set

### Issue: Old exercises not showing fullscreen notice
**Solution**: This is expected - old exercises default to same-window display. Check the checkbox to enable popup.

---

## Browser Testing

Test on multiple browsers to ensure compatibility:
- [ ] Chrome/Edge (latest)
- [ ] Firefox (latest)
- [ ] Safari (latest)
- [ ] Mobile browsers (iOS Safari, Chrome Mobile)

---

## Performance Testing

1. Create a CBT exercise with 40+ questions
2. Add multiple reading texts
3. Open in fullscreen modal
4. Scroll through all questions
5. Answer several questions
6. Click navigation buttons

### Expected Result:
✅ No lag or stuttering
✅ Smooth scrolling
✅ Instant highlighting of answered questions
✅ No memory leaks or browser slowdown

---

## Reporting Issues

If you encounter any issues during testing:

1. Note the specific test number and steps
2. Take a screenshot if applicable
3. Check browser console for JavaScript errors
4. Note your WordPress version, PHP version, and browser
5. Report with detailed reproduction steps

---

## Success Criteria

All tests should pass with ✅ results. Version 2.9 is ready for production when:

- [ ] All 12 main tests pass
- [ ] No critical issues found
- [ ] Backward compatibility confirmed
- [ ] Performance is acceptable
- [ ] Multi-site sync works correctly with order preservation

---

## Post-Testing Checklist

After successful testing:

- [ ] Merge the PR to main branch
- [ ] Tag the release as v2.9
- [ ] Update production sites
- [ ] Monitor for any issues in the first 24-48 hours
- [ ] Gather user feedback on new features

---

**Version 2.9 Testing Guide**  
Last Updated: 2025-12-18  
Plugin Version: 2.9
